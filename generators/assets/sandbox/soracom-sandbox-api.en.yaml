swagger: '2.0'
info:
  description: SORACOM SANDBOX API v1
  title: SORACOM SANDBOX API
  version: '20160218'
host: api-sandbox.soracom.io
basePath: /v1
schemes:
  - https
paths:
  /sandbox/coupons/create:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: request
          in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/sandboxCreateCouponRequest'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/sandboxCreateCouponResponse'
        '400':
          description: Request is not correct.
      security:
        - api_key: []
          api_token: []
      tags:
        - Coupon
      description: Creates a coupon.
      operationId: sandboxCreateCoupon
      summary: Creates a coupon
      x-soracom-cli:
        - sandbox coupons create
  /sandbox/init:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: request
          in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/sandboxInitRequest'
      responses:
        '201':
          description: Successfully created a sandbox operator.
          schema:
            $ref: '#/definitions/sandboxAuthResponse'
        '400':
          description: 'Email address, AuthKeyId, or AuthKey is not correct.'
      tags:
        - Operator
      description: >-
        Performs complex signup process at once, including registering dummy
        payment method. Specify `email` and `password` for an operator which
        will be created on sandbox, `authKeyId` and `authKey` for a real
        operator on the production environment. An API Key and an API Token will
        be included in the response if successful. Use the API Key and the API
        Token to requests afterwards.
      operationId: sandboxInitializeOperator
      summary: Creates an operator account.
      x-soracom-cli:
        - sandbox init
  '/sandbox/operators/token/{email}':
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: email
          in: path
          name: email
          required: true
          type: string
        - description: Authentication request
          in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/sandboxGetSignupTokenRequest'
      responses:
        '200':
          description: Successfully retrieved signup token.
          schema:
            $ref: '#/definitions/sandboxGetSignupTokenResponse'
        '400':
          description: 'Email address, AuthKeyId, or AuthKey is not correct.'
      tags:
        - Operator
      description: >-
        Retrieves a 'signup token' for registration confirmation. Please specify
        a pair of AuthKeyId and AuthKey of a SAM user on the production
        environment to check if the caller has a valid account on it.
      operationId: sandboxGetSignupToken
      summary: Gets a signup token
      x-soracom-cli:
        - sandbox operators get-signup-token
  '/sandbox/operators/{operator_id}':
    delete:
      parameters:
        - description: operator_id
          in: path
          name: operator_id
          required: true
          type: string
      responses:
        '200':
          description: OK
        '400':
          description: Operator does not exist.
      security:
        - api_key: []
          api_token: []
      tags:
        - Operator
      description: Deletes the specified operator.
      operationId: sandboxDeleteOperator
      summary: Deletes an operator
      x-soracom-cli:
        - sandbox operators delete
  /sandbox/orders/ship:
    post:
      consumes:
        - application/json
      parameters:
        - description: Shipping request
          in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/sandboxShipOrderRequest'
      responses:
        '200':
          description: OK
        '400':
          description: Order does not exist.
      security:
        - api_key: []
          api_token: []
      tags:
        - Order
      description: >-
        Changes the shipping status to 'shipped' and gets ready the subscribers
        included in the order.
      operationId: sandboxShipOrder
      summary: Ships the specified order.
      x-soracom-cli:
        - sandbox orders ship
  '/sandbox/stats/air/subscribers/{imsi}':
    post:
      consumes:
        - application/json
      parameters:
        - description: IMSI
          in: path
          name: imsi
          required: true
          type: string
        - description: The Air stats (up/down bytes of data) with specified timestamp.
          in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/sandboxInsertAirStatsRequest'
      responses:
        '200':
          description: OK
        '400':
          description: Data with the same timestamp already exists.
      security:
        - api_key: []
          api_token: []
      tags:
        - Stats
      description: >-
        Populates Air stats for testing purpose. Inserted data are going to be
        automatically accumulated. It is not possible to put the data multiple
        times with the same timestamp.
      operationId: sandboxInsertAirStats
      summary: Inserts Air stats for testing
      x-soracom-cli:
        - sandbox stats air insert
  '/sandbox/stats/beam/subscribers/{imsi}':
    post:
      consumes:
        - application/json
      parameters:
        - description: IMSI
          in: path
          name: imsi
          required: true
          type: string
        - description: The Beam stats (number of requests) with specified timestamp.
          in: body
          name: body
          required: true
          schema:
            $ref: '#/definitions/sandboxInsertBeamStatsRequest'
      responses:
        '200':
          description: OK
        '400':
          description: Data with the same timestamp already exists.
      security:
        - api_key: []
          api_token: []
      tags:
        - Stats
      description: >-
        Populates Beam stats for testing purpose. Inserted data are going to be
        automatically accumulated. It is not possible to put the data multiple
        times with the same timestamp.
      operationId: sandboxInsertBeamStats
      summary: Inserts Beam stats for testing
      x-soracom-cli:
        - sandbox stats beam insert
  /sandbox/subscribers/create:
    post:
      consumes:
        - application/json
      produces:
        - application/json
      parameters:
        - description: Create request
          in: body
          name: body
          schema:
            $ref: '#/definitions/sandboxCreateSubscriberRequest'
      responses:
        '200':
          description: OK
          schema:
            $ref: '#/definitions/sandboxCreateSubscriberResponse'
      security:
        - api_key: []
          api_token: []
      tags:
        - Subscriber
      description: Creates a new subscriber for sandbox.
      operationId: sandboxCreateSubscriber
      summary: Creates a new subscriber for sandbox.
      x-soracom-cli:
        - sandbox subscribers create
definitions:
  TagSet:
    additionalProperties:
      type: string
    type: object
  sandboxAuthResponse:
    properties:
      apiKey:
        type: string
      operatorId:
        type: string
      token:
        type: string
      userName:
        type: string
    type: object
  sandboxBeamCounts:
    properties:
      count:
        format: int64
        type: integer
    type: object
  sandboxCreateCouponRequest:
    properties:
      amount:
        example: 1000
        format: int32
        type: integer
      applicableBillItemName:
        enum:
          - dailyDataTrafficChargeTotal
          - dailyChargeTotal
          - dailySoracomBeamRequestChargeTotal
        example: dailyDataTrafficChargeTotal
        type: string
      expiryYearMonth:
        example: yyyyMM
        type: string
    type: object
  sandboxCreateCouponResponse:
    properties:
      amount:
        description: Coupon amount
        format: double
        type: number
      balance:
        description: Balance
        format: double
        type: number
      billItemName:
        description: Bill Item
        type: string
      couponCode:
        description: Coupon code
        type: string
      expiryYearMonth:
        description: Year and month of expiration
        example: yyyyMM
        type: string
    type: object
  sandboxCreateSubscriberRequest:
    properties:
      subscription:
        type: string
    type: object
  sandboxCreateSubscriberResponse:
    properties:
      tags:
        $ref: '#/definitions/TagSet'
      apn:
        type: string
      createdAt:
        format: int64
        type: integer
      expiryTime:
        format: int64
        type: integer
      imsi:
        type: string
      ipAddress:
        type: string
      lastModifiedAt:
        format: int64
        type: integer
      msisdn:
        type: string
      operatorId:
        type: string
      registrationSecret:
        type: string
      serialNumber:
        type: string
      speedClass:
        type: string
      status:
        type: string
      subscription:
        type: string
    type: object
  sandboxDataTrafficStats:
    properties:
      downloadByteSizeTotal:
        format: int64
        type: integer
      downloadPacketSizeTotal:
        format: int64
        type: integer
      uploadByteSizeTotal:
        format: int64
        type: integer
      uploadPacketSizeTotal:
        format: int64
        type: integer
    type: object
  sandboxGetSignupTokenRequest:
    properties:
      authKey:
        type: string
      authKeyId:
        type: string
    type: object
  sandboxGetSignupTokenResponse:
    properties:
      token:
        type: string
    required:
      - token
    type: object
  sandboxInitRequest:
    properties:
      authKey:
        type: string
      authKeyId:
        type: string
      coverageTypes:
        items:
          type: string
        type: array
      email:
        type: string
      password:
        type: string
      registerPaymentMethod:
        default: true
        type: boolean
    required:
      - email
      - password
      - authKeyId
      - authKey
    type: object
  sandboxInsertAirStatsRequest:
    properties:
      dataTrafficStatsMap:
        properties:
          s1.fast:
            $ref: '#/definitions/sandboxDataTrafficStats'
          s1.minimum:
            $ref: '#/definitions/sandboxDataTrafficStats'
          s1.slow:
            $ref: '#/definitions/sandboxDataTrafficStats'
          s1.standard:
            $ref: '#/definitions/sandboxDataTrafficStats'
        type: object
      unixtime:
        description: UNIX time (in milliseconds)
        format: int64
        type: integer
    type: object
  sandboxInsertBeamStatsRequest:
    properties:
      beamStatsMap:
        properties:
          inHttp:
            $ref: '#/definitions/sandboxBeamCounts'
          inMqtt:
            $ref: '#/definitions/sandboxBeamCounts'
          inTcp:
            $ref: '#/definitions/sandboxBeamCounts'
          inUdp:
            $ref: '#/definitions/sandboxBeamCounts'
          outHttp:
            $ref: '#/definitions/sandboxBeamCounts'
          outHttps:
            $ref: '#/definitions/sandboxBeamCounts'
          outMqtt:
            $ref: '#/definitions/sandboxBeamCounts'
          outMqtts:
            $ref: '#/definitions/sandboxBeamCounts'
          outTcp:
            $ref: '#/definitions/sandboxBeamCounts'
          outTcps:
            $ref: '#/definitions/sandboxBeamCounts'
          outUdp:
            $ref: '#/definitions/sandboxBeamCounts'
        type: object
      unixtime:
        description: UNIX time (in milliseconds)
        format: int64
        type: integer
    type: object
  sandboxShipOrderRequest:
    properties:
      operatorId:
        type: string
      orderId:
        type: string
    required:
      - orderId
      - operatorId
    type: object
x-components: {}

